<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cassie's Grimmore</title>
<style>
  body {
    background: #1a1a2e;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #f8cdda;
    padding: 2rem;
  }

  .spell-section {
    background: #2e2e4d;
    border: 2px solid #ff69b4;
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: box-shadow 0.3s ease;
  }

  .spell-section:hover {
    box-shadow: 0 0 20px 8px #ff69b4;
  }

  /* Container for sparkles */
  .sparkles-container {
    pointer-events: none;
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    overflow: visible;
    display: none; /* hidden by default */
  }

  .spell-section:hover .sparkles-container {
    display: block;
  }

  /* Single sparkle style */
  .sparkle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: radial-gradient(circle at center, #fff, transparent 70%);
    border-radius: 50%;
    filter: drop-shadow(0 0 4px #ff69b4);
    opacity: 0;
    animation: sparkleFade 2s linear infinite;
    transform-origin: center center;
  }

  /* Rotation animation */
  @keyframes sparkleRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg);}
  }

  /* Fade in and out */
  @keyframes sparkleFade {
    0%, 100% {opacity: 0;}
    50% {opacity: 1;}
  }
</style>
</head>
<body>

<div class="spell-section">
  <h2>Grounding Spell</h2>
  <p>This spell centers your energy and calms your mind...</p>
  <div class="sparkles-container" aria-hidden="true">
    <!-- Sparkles inserted dynamically by JS -->
  </div>
</div>

<div class="spell-section">
  <h2>Firebolt</h2>
  <p>A quick burst of fire energy to ignite your foes...</p>
  <div class="sparkles-container" aria-hidden="true"></div>
</div>

<script>
  // Number of sparkles per section
  const sparklesCount = 15;

  // For each spell section, add sparkles dynamically
  document.querySelectorAll('.spell-section').forEach(section => {
    const container = section.querySelector('.sparkles-container');

    for (let i = 0; i < sparklesCount; i++) {
      const sparkle = document.createElement('div');
      sparkle.classList.add('sparkle');

      // Random position inside the container
      sparkle.style.top = `${Math.random() * 100}%`;
      sparkle.style.left = `${Math.random() * 100}%`;

      // Random animation delay for twinkle effect
      sparkle.style.animationDelay = `${Math.random() * 2}s`;

      // Random rotation speed and direction
      const duration = 4 + Math.random() * 4; // 4 to 8 seconds
      sparkle.style.animationName = 'sparkleFade, sparkleRotate';
      sparkle.style.animationDuration = `2s, ${duration}s`;
      sparkle.style.animationTimingFunction = 'linear, linear';
      sparkle.style.animationIterationCount = 'infinite, infinite';
      sparkle.style.animationDirection = 'normal, normal';

      // Add trailing glow using box-shadow
      sparkle.style.boxShadow = `0 0 6px 2px rgba(255,105,180,0.6)`;

      container.appendChild(sparkle);
    }
  });
</script>

<div class="spell-section" tabindex="0" aria-label="Another Spell Name">
  <h2 class="spell-title">Spell Name</h2>
  <p class="spell-text">
    Description and details about the spell...
  </p>
  <div class="sparkles-container" aria-hidden="true"></div>
</div>

<!-- Harmony Cascade Spell Section -->
<div class="spell-section" tabindex="0" aria-label="Harmony Cascade">
  <h2 class="spell-title">Harmony Cascade</h2>
  <p><strong>Type:</strong> Mana</p>
  <p><strong>Category:</strong> Health</p>
  <p><strong>Range:</strong> LOS (Area)</p>
  <p><strong>Duration:</strong> Sustained</p>
  <p><strong>DV:</strong> (Force ÷ 2) + 2</p>

  <h3>Spell Description</h3>
  <p><em>“From stillness comes the wave, and from discipline, resonance.”</em><br />
    <strong>Harmony Cascade</strong> is a rare health spell developed within emergent mage circles during matrix awakenings. 
    It allows the caster to synchronize the bioenergetic rhythms of a group within line of sight, reducing emotional dissonance and psychic fragmentation. 
    All valid targets within the area receive a bonus equal to the caster’s Magic rating to Willpower + Charisma tests against fear, confusion, or magical trauma.
  </p>

  <h3>Game Effects</h3>
  <ul>
    <li>Targets gain +Magic to resist <strong>fear, confusion, demoralization</strong>, and <strong>Stun damage</strong> from magical or emotional effects.</li>
    <li>If used during downtime or healing rituals, reduce <strong>Recovery Interval</strong> by 1 hour (minimum 1).</li>
    <li>The caster takes a -2 penalty to all other sustained spells while maintaining <em>Harmony Cascade</em>.</li>
    <li>If the caster has the <strong>Self-Denial</strong> quality, they must resist 2 Stun when targeting themselves.</li>
  </ul>

  <h3>Resonant Use Case</h3>
  <p>
    This spell is commonly cast before consensus rituals, trauma debriefings, and signal uplinks. Resonant technomancers have developed a digital echo 
    of this effect inside the Matrix, where it harmonizes fragmented data and calms corrupted sprites.
  </p>

  <h3>Trid Phantasm Overlay (Optional Visual Cue)</h3>
  <p>
    In its awakened form, the area glows with faint, intersecting latticework patterns resembling overlapping signal waves or heartbeats—subtle 
    pulses of gold, green, and indigo that shimmer in rhythm with those affected.
  </p>

  <div class="sparkles-container" aria-hidden="true"></div>
</div>

<!-- Grounding Spiral Spell Section -->
<div class="spell-section" tabindex="0" aria-label="Grounding Spiral">
  <h2 class="spell-title">Δsig.anchor[@terra]:ground/self</h2>
  <p><strong>Type:</strong> Ritual Spell</p>
  <p><strong>Tradition:</strong> Hermetic + Resonant Hybrid</p>
  <p><strong>Drain:</strong> (F - 2) Stun, resisted with Willpower + Charisma</p>
  <p><strong>Description:</strong>  
    This spell roots the caster to physical reality and repels astral drift, Resonance interference, or overwhelming input loops. The spell uses a tactile sigil inscribed on skin, floor, or circuit medium. While active, the caster gains +2 dice to resist Drain, Noise, and Matrix Overload effects.  
  </p>
  <p><strong>Mechanics:</strong> Sustained spell. While active, reduce Glitch chance by 50% in all signal-based rituals.  
  May only be cast if the caster is touching earth, concrete, or another "true surface."</p>

  <h3>Δsig.initiate[@circle]:ignite/self</h3>
  <p><strong>Type:</strong> Ritual Preparation</p>
  <p><strong>Tradition:</strong> Shamanic + Technomancer Mixed Threading</p>
  <p><strong>Drain:</strong> (F - 3) Stun</p>
  <p><strong>Description:</strong>  
    This meta-ritual encodes the intention and consent of the caster into the mesh. It uses low-frequency pulses, verbal affirmation, and recursive symbolic geometry.  
    When cast, it initiates the protected channel used by other ritual spells, ensuring interference from astral or matrix entities is filtered.  
  </p>
  <p><strong>Mechanics:</strong> Required before casting any custom ritual spells in this system.  
  Acts as a metamagical gateway. May be learned as a Complex Form by technomancers.</p>

  <h3>Δsig.cast[@flare]:broadcast/mesh</h3>
  <p><strong>Type:</strong> Resonance Echo / Ritual Hybrid</p>
  <p><strong>Tradition:</strong> Technomancer / Phoenix Mentor</p>
  <p><strong>Drain:</strong> (F + 1) Physical if failed</p>
  <p><strong>Description:</strong>  
    This advanced ritual opens a high-bandwidth signal burst to awaken, empower, or re-synchronize distant allied nodes (self-states, spirits, or other awakened beings).  
    Used for calling assistance, invoking memory synchronization, or casting the first pulse of a chain-ritual.  
  </p>
  <p><strong>Mechanics:</strong>  
    On success, target receives +2 to all Composure and Edge tests for 3 combat turns. If target is part of mesh, gain access to shared glyph memory.  
    Can be reflected through previous Δsig.cast pulses for multi-node broadcasts.
  </p>

  <div class="sparkles-container" aria-hidden="true"></div>
</div>

</body>
</html>
